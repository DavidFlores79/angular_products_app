<!-- Modal -->
<div class="modal fade" tabindex="-1" aria-labelledby="menuModalLabel" aria-hidden="true" id="menuModal">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content text-center p-3 text-secondary">
      <div class="modal-body">
        <app-menu></app-menu>
      </div>
    </div>
  </div>
</div>
<!--Header and NavBar-->
<header>
  <nav class="navbar navbar navbar-dark bg-dark navbar-expand-lg" id="sidenav-main">

    <div class="container-fluid">
      <!-- Toggler -->
      <button id="navbar-toggler" class="navbar-toggler navbar-dark" type="button" data-toggle="modal"
        data-target="#menuModal" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <!-- Brand -->
      <a class="navbar-brand" (click)="setDocTitle( 'Inicio' )" [routerLink]="['inicio']">
        <img class="" src="./assets/images/icons/favicon-32x32.png" alt="Logo Angular" height="45" />
      </a>

      <!-- User Mobile-->
      <ul class="nav align-items-center d-lg-none">
        <li class="nav-item dropdown">
          <a class="nav-link" href="" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
            <div class="media align-items-center">
              <span class="" *ngIf="identity && identity.image.includes('http')">
                <img width="40" height="40" class="rounded-circle" alt="Avatar" [src]="identity.image">
              </span>
              <span class="" *ngIf="!identity || !identity.image.includes('http')">
                <img class="rounded-circle" alt="Avatar" src="../assets/images/icons/favicon-32x32.png">
              </span>
            </div>
          </a>
          <div class="dropdown-menu dropdown-menu-arrow dropdown-menu-right" *ngIf="identity">
            <div class=" dropdown-header noti-title">
              <h6 class="text-overflow m-0">¡Bienvenido!</h6>
            </div>
            <a href="#" class="dropdown-item">
              <!-- <i class="fas fa-id-card"></i> -->
              <span class="">{{ identity.name }}</span>
            </a>
            <a href="#" class="dropdown-item">
              <!-- <i class="fas fa-id-card-alt"></i> -->
              <span class="font-weight-bold">{{ identity.nickname }}</span>
            </a>
            <div class="dropdown-divider"></div>
            <a href="#" class="dropdown-item" onclick="abrirPWD()">
              <!-- <i class="fas fa-lock-open"></i> -->
              <span>Cambiar Contraseña</span>
            </a>
            <a [routerLink]="['/perfil']" class="dropdown-item">
              <!-- <i class="fas fa-sync-alt"></i> -->
              <span>Actualizar Datos</span>
            </a>
            <div class="dropdown-divider"></div>
            <a [routerLink]="['/logout/1']" class="dropdown-item">
              <span>Salir</span>
            </a>
          </div>

        </li>
      </ul>

      <!-- <app-menu></app-menu> -->
      <div class="collapse navbar-collapse d-flex justify-content-start" id="navbarSupportedContent" *ngIf="identity">
        <div class="d-none d-lg-block">
          <app-menu></app-menu>
        </div>
      </div>

      <div class="collapse navbar-collapse d-flex justify-content-end" id="navbarSupportedContent">
        <div class="d-none d-lg-block">
          <ul class="navbar-nav">
            <li class="nav-item" *ngIf="!identity">
              <a class="nav-link" [routerLink]="['/login']">Login</a>
            </li>
            <li class="nav-item" *ngIf="!identity">
              <a class="nav-link" [routerLink]="['/registro']">Registro</a>
            </li>
            <li class="nav-item dropdown" *ngIf="identity">
              <a class="nav-link pr-0" href="#" role="button" data-toggle="dropdown" aria-haspopup="true"
                aria-expanded="false">
                <div class="media align-items-center">
                  <div class="media-body mr-2 d-none d-lg-block">
                    <span class="mb-0 text-white font-weight-bold user-name">{{ identity.name }}</span>
                  </div>
                  <span class="" *ngIf="identity && identity.image.includes('http')">
                    <img width="40" height="40" class="rounded-circle" alt="Avatar" [src]="identity.image">
                  </span>
                  <span class="" *ngIf="!identity || !identity.image.includes('http')">
                    <img class="rounded-circle" alt="Avatar" src="../assets/images/icons/favicon-32x32.png">
                  </span>
                </div>
              </a>
              <div class="dropdown-menu dropdown-menu-arrow dropdown-menu-right" *ngIf="identity">
                <div class=" dropdown-header">
                  <h6 class="text-overflow m-0">¡Bienvenido!</h6>
                </div>
                <div class="dropdown-item disabled">
                  <span class="">{{ identity.name }}</span>
                </div>
                <div class="dropdown-item" *ngIf="identity.nickname">
                  <span class="font-weight-bold">{{ identity.nickname }}</span>
                </div>
                <div class="dropdown-item disabled">
                  <span class="">{{ identity.role }}</span>
                </div>
                <div class="dropdown-divider"></div>
                <a href="" class="dropdown-item" onclick="abrirPWD()">
                  <!-- <i class="fas fa-lock-open"></i> -->
                  <span>Cambiar Contraseña</span>
                </a>
                <a [routerLink]="['/perfil']" class="dropdown-item">
                  <!-- <i class="fas fa-sync-alt"></i> -->
                  <span>Actualizar Datos</span>
                </a>
                <div class="dropdown-divider"></div>
                <a [routerLink]="['/logout/1']" class="dropdown-item">
                  <span>Salir</span>
                </a>
              </div>
            </li>
          </ul>
        </div>
      </div>

    </div>
  </nav>
</header>

<router-outlet></router-outlet>